var Sigma;(()=>{var b,c=[function(c,d,a){"use strict";var e,h=this&&this.__extends||(e=function(a,b){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}e(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),b=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(d,"__esModule",{value:!0});var f=b(a(1)),i=b(a(2)),j=b(a(13)),k=b(a(11)),g=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return h(a,b),a.Camera=i.default,a.QuadTree=j.default,a.MouseCaptor=k.default,a.Sigma=f.default,a}(f.default);c.exports=g},function(g,c,a){"use strict";var d,h=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),i=this&&this.__assign||function(){return(i=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)},j=this&&this.__values||function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},b=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0});var k=b(a(2)),l=b(a(11)),m=b(a(13)),e=a(9),n=a(4),o=a(15),p=a(16),q=b(a(36)),r=a(6),s=a(37);function t(b,c,a){if(!a.hasOwnProperty("x")||!a.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(c,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return a.color||(a.color=b.defaultNodeColor),a.label||""===a.label||(a.label=null),void 0!==a.label&&null!==a.label?a.label=""+a.label:a.label=null,a.size||(a.size=2),a.hasOwnProperty("hidden")||(a.hidden=!1),a.hasOwnProperty("highlighted")||(a.highlighted=!1),a.hasOwnProperty("forceLabel")||(a.forceLabel=!1),a.type&&""!==a.type||(a.type=b.defaultNodeType),a.zIndex||(a.zIndex=0),a}function u(b,c,a){return a.color||(a.color=b.defaultEdgeColor),a.label||(a.label=""),a.size||(a.size=.5),a.hasOwnProperty("hidden")||(a.hidden=!1),a.hasOwnProperty("forceLabel")||(a.forceLabel=!1),a.type&&""!==a.type||(a.type=b.defaultEdgeType),a.zIndex||(a.zIndex=0),a}var f=function(b){function a(f,g,e){void 0===e&&(e={});var a=b.call(this)||this;if(a.elements={},a.canvasContexts={},a.webGLContexts={},a.activeListeners={},a.quadtree=new m.default,a.labelGrid=new o.LabelGrid,a.nodeDataCache={},a.edgeDataCache={},a.nodesWithForcedLabels=[],a.edgesWithForcedLabels=[],a.nodeExtent={x:[0,1],y:[0,1]},a.matrix=(0,r.identity)(),a.invMatrix=(0,r.identity)(),a.correctionRatio=1,a.customBBox=null,a.normalizationFunction=(0,n.createNormalizationFunction)({x:[0,1],y:[0,1]}),a.cameraSizeRatio=1,a.width=0,a.height=0,a.pixelRatio=(0,n.getPixelRatio)(),a.displayedLabels=new Set,a.highlightedNodes=new Set,a.hoveredNode=null,a.hoveredEdge=null,a.renderFrame=null,a.renderHighlightedNodesFrame=null,a.needToProcess=!1,a.needToSoftProcess=!1,a.checkEdgesEventsFrame=null,a.nodePrograms={},a.hoverNodePrograms={},a.edgePrograms={},a.settings=(0,n.assign)({},p.DEFAULT_SETTINGS,e),(0,p.validateSettings)(a.settings),(0,n.validateGraph)(f),!(g instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var i in a.graph=f,a.container=g,a.createWebGLContext("edges",{preserveDrawingBuffer:!0}),a.createCanvasContext("edgeLabels"),a.createWebGLContext("nodes"),a.createCanvasContext("labels"),a.createCanvasContext("hovers"),a.createWebGLContext("hoverNodes"),a.createCanvasContext("mouse"),a.webGLContexts){var d=a.webGLContexts[i];d.blendFunc(d.ONE,d.ONE_MINUS_SRC_ALPHA),d.enable(d.BLEND)}for(var c in a.settings.nodeProgramClasses){var h=a.settings.nodeProgramClasses[c];a.nodePrograms[c]=new h(a.webGLContexts.nodes,a),a.hoverNodePrograms[c]=new h(a.webGLContexts.hoverNodes,a)}for(var c in a.settings.edgeProgramClasses){var j=a.settings.edgeProgramClasses[c];a.edgePrograms[c]=new j(a.webGLContexts.edges,a)}return a.resize(),a.camera=new k.default,a.bindCameraHandlers(),a.mouseCaptor=new l.default(a.elements.mouse,a),a.touchCaptor=new q.default(a.elements.mouse,a),a.bindEventHandlers(),a.bindGraphHandlers(),a.handleSettingsUpdate(),a.process(),a.render(),a}return h(a,b),a.prototype.createCanvas=function(b){var a=(0,n.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(b)});return this.elements[b]=a,this.container.appendChild(a),a},a.prototype.createCanvasContext=function(a){var b=this.createCanvas(a);return this.canvasContexts[a]=b.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},a.prototype.createWebGLContext=function(d,e){var a,b=this.createCanvas(d),c=i({preserveDrawingBuffer:!1,antialias:!1},e||{});return(a=b.getContext("webgl2",c))||(a=b.getContext("webgl",c)),a||(a=b.getContext("experimental-webgl",c)),this.webGLContexts[d]=a,this},a.prototype.bindCameraHandlers=function(){var a=this;return this.activeListeners.camera=function(){a._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},a.prototype.mouseIsOnNode=function(f,g,a){var b=f.x,c=f.y,d=g.x,e=g.y;return b>d-a&&b<d+a&&c>e-a&&c<e+a&&Math.sqrt(Math.pow(b-d,2)+Math.pow(c-e,2))<a},a.prototype.getQuadNodes=function(b){var a=this.viewportToFramedGraph(b);return this.quadtree.point(a.x,1-a.y)},a.prototype.getNodeAtPosition=function(a){for(var j=a.x,k=a.y,e=this.getQuadNodes(a),f=1/0,g=null,b=0,l=e.length;b<l;b++){var h=e[b],c=this.nodeDataCache[h],d=this.framedGraphToViewport(c),m=this.scaleSize(c.size);if(!c.hidden&&this.mouseIsOnNode(a,d,m)){var i=Math.sqrt(Math.pow(j-d.x,2)+Math.pow(k-d.y,2));i<f&&(f=i,g=h)}}return g},a.prototype.bindEventHandlers=function(){var b=this;this.activeListeners.handleResize=function(){b.needToSoftProcess=!0,b._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(d){var c={event:d,preventSigmaDefault:function(){d.preventSigmaDefault()}},a=b.getNodeAtPosition(d);if(a&&b.hoveredNode!==a&&!b.nodeDataCache[a].hidden){b.hoveredNode&&b.emit("leaveNode",i(i({},c),{node:b.hoveredNode})),b.hoveredNode=a,b.emit("enterNode",i(i({},c),{node:a})),b.scheduleHighlightedNodesRender();return}if(b.hoveredNode){var e=b.nodeDataCache[b.hoveredNode],f=b.framedGraphToViewport(e),g=b.scaleSize(e.size);if(!b.mouseIsOnNode(d,f,g)){var h=b.hoveredNode;b.hoveredNode=null,b.emit("leaveNode",i(i({},c),{node:h})),b.scheduleHighlightedNodesRender();return}}!0===b.settings.enableEdgeHoverEvents?b.checkEdgeHoverEvents(c):"debounce"!==b.settings.enableEdgeHoverEvents||b.checkEdgesEventsFrame||(b.checkEdgesEventsFrame=(0,n.requestFrame)(function(){b.checkEdgeHoverEvents(c),b.checkEdgesEventsFrame=null}))};var a=function(a){return function(c){var d={event:c,preventSigmaDefault:function(){c.preventSigmaDefault()}},e=c.original.isFakeSigmaMouseEvent?b.getNodeAtPosition(c.original):b.hoveredNode;if(e)return b.emit("".concat(a,"Node"),i(i({},d),{node:e}));if("wheel"===a?b.settings.enableEdgeWheelEvents:b.settings.enableEdgeClickEvents){var f=b.getEdgeAtPoint(c.x,c.y);if(f)return b.emit("".concat(a,"Edge"),i(i({},d),{edge:f}))}return b.emit("".concat(a,"Stage"),d)}};return this.activeListeners.handleClick=a("click"),this.activeListeners.handleRightClick=a("rightClick"),this.activeListeners.handleDoubleClick=a("doubleClick"),this.activeListeners.handleWheel=a("wheel"),this.activeListeners.handleDown=a("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},a.prototype.bindGraphHandlers=function(){var b=this,a=this.graph;return this.activeListeners.graphUpdate=function(){b.needToProcess=!0,b._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){b.needToSoftProcess=!0,b._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(a){delete b.nodeDataCache[a.key],b.hoveredNode===a.key&&(b.hoveredNode=null),b.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(a){delete b.edgeDataCache[a.key],b.hoveredEdge===a.key&&(b.hoveredEdge=null),b.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){b.edgeDataCache={},b.hoveredEdge=null,b.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){b.nodeDataCache={},b.hoveredNode=null,b.activeListeners.clearEdgesGraphUpdate()},a.on("nodeAdded",this.activeListeners.graphUpdate),a.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),a.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),a.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),a.on("edgeAdded",this.activeListeners.graphUpdate),a.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),a.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),a.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),a.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),a.on("cleared",this.activeListeners.clearGraphUpdate),this},a.prototype.checkEdgeHoverEvents=function(a){var b=this.hoveredNode?null:this.getEdgeAtPoint(a.event.x,a.event.y);return b!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",i(i({},a),{edge:this.hoveredEdge})),b&&this.emit("enterEdge",i(i({},a),{edge:b})),this.hoveredEdge=b),this},a.prototype.getEdgeAtPoint=function(e,f){var d,g,p=this,q=this.edgeDataCache,r=this.nodeDataCache;if(!(0,s.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,f*this.pixelRatio))return null;var h=this.viewportToGraph({x:e,y:f}),t=h.x,u=h.y,n=0;if(this.graph.someEdge(function(i,_,j,k,e,f){var a=e.x,b=e.y,c=f.x,d=f.y;if(q[i].hidden||r[j].hidden||r[k].hidden)return!1;if(a!==c||b!==d){var l=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2)),g=p.graphToViewport({x:a,y:b}),m=g.x,o=g.y,h=p.graphToViewport({x:c,y:d}),s=h.x,t=h.y,u=Math.sqrt(Math.pow(s-m,2)+Math.pow(t-o,2));return n=l/u,!0}}),!n)return null;var b=this.graph.filterEdges(function(a,f,d,e,b,c){return!q[a].hidden&&!r[d].hidden&&!r[e].hidden&&(!!(0,s.doEdgeCollideWithPoint)(t,u,b.x,b.y,c.x,c.y,q[a].size*n/p.cameraSizeRatio)||void 0)});if(0===b.length)return null;var i=b[b.length-1],k=-1/0;try{for(var c=j(b),a=c.next();!a.done;a=c.next()){var l=a.value,m=this.graph.getEdgeAttribute(l,"zIndex");m>=k&&(i=l,k=m)}}catch(o){d={error:o}}finally{try{a&&!a.done&&(g=c.return)&&g.call(c)}finally{if(d)throw d.error}}return i},a.prototype.process=function(o){var C=this;void 0===o&&(o=!1);var j=this.graph,p=this.settings,y=this.getDimensions(),f=[1/0,-1/0],g=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(y,p.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,n.graphExtent)(j),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var z=new k.default,A=(0,n.matrixFromCamera)(z.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,n.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var q={},l=j.nodes(),b=0,h=l.length;b<h;b++){var d=l[b],i=Object.assign({},j.getNodeAttributes(d));p.nodeReducer&&(i=p.nodeReducer(d,i));var a=t(this.settings,d,i);q[a.type]=(q[a.type]||0)+1,this.nodeDataCache[d]=a,this.normalizationFunction.applyTo(a),a.forceLabel&&this.nodesWithForcedLabels.push(d),this.settings.zIndex&&(a.zIndex<f[0]&&(f[0]=a.zIndex),a.zIndex>f[1]&&(f[1]=a.zIndex))}for(var c in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(c))throw new Error('Sigma: could not find a suitable program for node type "'.concat(c,'"!'));o||this.nodePrograms[c].allocate(q[c]||0),q[c]=0}this.settings.zIndex&&f[0]!==f[1]&&(l=(0,n.zIndexOrdering)(f,function(a){return C.nodeDataCache[a].zIndex},l));for(var b=0,h=l.length;b<h;b++){var d=l[b],a=this.nodeDataCache[d];this.quadtree.add(d,a.x,1-a.y,a.size/this.width),"string"!=typeof a.label||a.hidden||this.labelGrid.add(d,a.size,this.framedGraphToViewport(a,{matrix:A})),this.nodePrograms[a.type].process(a,a.hidden,q[a.type]++),a.highlighted&&!a.hidden&&this.highlightedNodes.add(d)}this.labelGrid.organize();for(var r={},m=j.edges(),b=0,h=m.length;b<h;b++){var e=m[b],i=Object.assign({},j.getEdgeAttributes(e));p.edgeReducer&&(i=p.edgeReducer(e,i));var a=u(this.settings,e,i);r[a.type]=(r[a.type]||0)+1,this.edgeDataCache[e]=a,a.forceLabel&&!a.hidden&&this.edgesWithForcedLabels.push(e),this.settings.zIndex&&(a.zIndex<g[0]&&(g[0]=a.zIndex),a.zIndex>g[1]&&(g[1]=a.zIndex))}for(var c in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(c))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(c,'"!'));o||this.edgePrograms[c].allocate(r[c]||0),r[c]=0}this.settings.zIndex&&g[0]!==g[1]&&(m=(0,n.zIndexOrdering)(g,function(a){return C.edgeDataCache[a].zIndex},m));for(var b=0,h=m.length;b<h;b++){var e=m[b],a=this.edgeDataCache[e],s=j.extremities(e),v=this.nodeDataCache[s[0]],w=this.nodeDataCache[s[1]],B=a.hidden||v.hidden||w.hidden;this.edgePrograms[a.type].process(v,w,a,B,r[a.type]++)}for(var c in this.edgePrograms){var x=this.edgePrograms[c];o||"function"!=typeof x.computeIndices||x.computeIndices()}return this},a.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},a.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},a.prototype._scheduleRefresh=function(){var a=this;return this.renderFrame||(this.renderFrame=(0,n.requestFrame)(function(){a._refresh(),a.renderFrame=null})),this},a.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var d,f=this.camera.getState();if(f.ratio>=1)d=new Set(this.graph.nodes());else{var a=this.viewRectangle();d=new Set(this.quadtree.rectangle(a.x1,1-a.y1,a.x2,1-a.y2,a.height))}var g=this.labelGrid.getLabelsToDisplay(f.ratio,this.settings.labelDensity).concat(this.nodesWithForcedLabels);this.displayedLabels=new Set;for(var k=this.canvasContexts.labels,e=0,l=g.length;e<l;e++){var b=g[e],c=this.nodeDataCache[b];if(!this.displayedLabels.has(b)&&!c.hidden){var h=this.framedGraphToViewport(c),m=h.x,n=h.y,j=this.scaleSize(c.size);(c.forceLabel||!(j<this.settings.labelRenderedSizeThreshold))&&d.has(b)&&(this.displayedLabels.add(b),this.settings.labelRenderer(k,i(i({key:b},c),{size:j,x:m,y:n}),this.settings))}}return this},a.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var g=this.canvasContexts.edgeLabels;g.clearRect(0,0,this.width,this.height);for(var h=(0,o.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),j=new Set,e=0,k=h.length;e<k;e++){var a=h[e],b=this.graph.extremities(a),c=this.nodeDataCache[b[0]],d=this.nodeDataCache[b[1]],f=this.edgeDataCache[a];if(!j.has(a)){if(f.hidden||c.hidden||d.hidden)continue;this.settings.edgeLabelRenderer(g,i(i({key:a},f),{size:this.scaleSize(f.size)}),i(i(i({key:b[0]},c),this.framedGraphToViewport(c)),{size:this.scaleSize(c.size)}),i(i(i({key:b[1]},d),this.framedGraphToViewport(d)),{size:this.scaleSize(d.size)}),this.settings),j.add(a)}}return this},a.prototype.renderHighlightedNodes=function(){var f=this,e=this.canvasContexts.hovers;e.clearRect(0,0,this.width,this.height);var g=function(b){var a=f.nodeDataCache[b],c=f.framedGraphToViewport(a),d=c.x,g=c.y,h=f.scaleSize(a.size);f.settings.hoverRenderer(e,i(i({key:b},a),{size:h,x:d,y:g}),f.settings)},b=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&b.push(this.hoveredNode),this.highlightedNodes.forEach(function(a){a!==f.hoveredNode&&b.push(a)}),b.forEach(function(a){return g(a)});var d={};for(var a in b.forEach(function(b){var a=f.nodeDataCache[b].type;d[a]=(d[a]||0)+1}),this.hoverNodePrograms)this.hoverNodePrograms[a].allocate(d[a]||0),d[a]=0;for(var a in b.forEach(function(b){var a=f.nodeDataCache[b];f.hoverNodePrograms[a.type].process(a,a.hidden,d[a.type]++)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.hoverNodePrograms){var c=this.hoverNodePrograms[a];c.bind(),c.bufferData(),c.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},a.prototype.scheduleHighlightedNodesRender=function(){var a=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,n.requestFrame)(function(){a.renderHighlightedNodesFrame=null,a.renderHighlightedNodes(),a.renderEdgeLabels()}))},a.prototype.render=function(){var j=this;this.emit("beforeRender");var f=function(){return j.emit("afterRender"),j};if(this.renderFrame&&((0,n.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return f();var c=this.mouseCaptor,g=this.camera.isAnimated()||c.isMoving||c.draggedEvents||c.currentWheelDirection,a=this.camera.getState(),d=this.getDimensions(),h=this.getGraphDimensions(),i=this.getSetting("stagePadding")||0;for(var e in this.matrix=(0,n.matrixFromCamera)(a,d,h,i),this.invMatrix=(0,n.matrixFromCamera)(a,d,h,i,!0),this.correctionRatio=(0,n.getMatrixImpact)(this.matrix,a,d),this.nodePrograms){var b=this.nodePrograms[e];b.bind(),b.bufferData(),b.render({matrix:this.matrix,width:this.width,height:this.height,ratio:a.ratio,correctionRatio:this.correctionRatio/a.ratio,scalingRatio:this.pixelRatio})}if(!this.settings.hideEdgesOnMove||!g)for(var e in this.edgePrograms){var b=this.edgePrograms[e];b.bind(),b.bufferData(),b.render({matrix:this.matrix,width:this.width,height:this.height,ratio:a.ratio,correctionRatio:this.correctionRatio/a.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&g||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),f()},a.prototype.updateCachedValues=function(){var a=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(a)},a.prototype.getCamera=function(){return this.camera},a.prototype.getContainer=function(){return this.container},a.prototype.getGraph=function(){return this.graph},a.prototype.getMouseCaptor=function(){return this.mouseCaptor},a.prototype.getTouchCaptor=function(){return this.touchCaptor},a.prototype.getDimensions=function(){return{width:this.width,height:this.height}},a.prototype.getGraphDimensions=function(){var a=this.customBBox||this.nodeExtent;return{width:a.x[1]-a.x[0]||1,height:a.y[1]-a.y[0]||1}},a.prototype.getNodeDisplayData=function(b){var a=this.nodeDataCache[b];return a?Object.assign({},a):void 0},a.prototype.getEdgeDisplayData=function(b){var a=this.edgeDataCache[b];return a?Object.assign({},a):void 0},a.prototype.getSettings=function(){return i({},this.settings)},a.prototype.getSetting=function(a){return this.settings[a]},a.prototype.setSetting=function(a,b){return this.settings[a]=b,(0,p.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},a.prototype.updateSetting=function(a,b){return this.settings[a]=b(this.settings[a]),(0,p.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},a.prototype.resize=function(){var c=this.width,d=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,n.getPixelRatio)(),0===this.width){if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.")}if(0===this.height){if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.")}if(c===this.width&&d===this.height)return this;for(var a in this.emit("resize"),this.elements){var b=this.elements[a];b.style.width=this.width+"px",b.style.height=this.height+"px"}for(var a in this.canvasContexts)this.elements[a].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[a].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[a].scale(this.pixelRatio,this.pixelRatio);for(var a in this.webGLContexts)this.elements[a].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[a].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[a].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},a.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},a.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},a.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},a.prototype.getViewportZoomedState=function(f,b){var a=this.camera.getState(),g=a.ratio,h=a.angle,i=a.x,j=a.y,c=b/g,k={x:this.width/2,y:this.height/2},d=this.viewportToFramedGraph(f),e=this.viewportToFramedGraph(k);return{angle:h,x:(d.x-e.x)*(1-c)+i,y:(d.y-e.y)*(1-c)+j,ratio:b}},a.prototype.viewRectangle=function(){var c=0*this.width/8,a=0*this.height/8,d=this.viewportToFramedGraph({x:0-c,y:0-a}),b=this.viewportToFramedGraph({x:this.width+c,y:0-a}),e=this.viewportToFramedGraph({x:0,y:this.height+a});return{x1:d.x,y1:d.y,x2:b.x,y2:b.y,height:b.y-e.y}},a.prototype.framedGraphToViewport=function(c,a){void 0===a&&(a={});var d=!!a.cameraState||!!a.viewportDimensions||!!a.graphDimensions,e=a.matrix?a.matrix:d?(0,n.matrixFromCamera)(a.cameraState||this.camera.getState(),a.viewportDimensions||this.getDimensions(),a.graphDimensions||this.getGraphDimensions(),a.padding||this.getSetting("stagePadding")||0):this.matrix,b=(0,r.multiplyVec2)(e,c);return{x:(1+b.x)*this.width/2,y:(1-b.y)*this.height/2}},a.prototype.viewportToFramedGraph=function(c,a){void 0===a&&(a={});var d=!!a.cameraState||!!a.viewportDimensions||!a.graphDimensions,e=a.matrix?a.matrix:d?(0,n.matrixFromCamera)(a.cameraState||this.camera.getState(),a.viewportDimensions||this.getDimensions(),a.graphDimensions||this.getGraphDimensions(),a.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,b=(0,r.multiplyVec2)(e,{x:c.x/this.width*2-1,y:1-c.y/this.height*2});return isNaN(b.x)&&(b.x=0),isNaN(b.y)&&(b.y=0),b},a.prototype.viewportToGraph=function(b,a){return void 0===a&&(a={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(b,a))},a.prototype.graphToViewport=function(b,a){return void 0===a&&(a={}),this.framedGraphToViewport(this.normalizationFunction(b),a)},a.prototype.getBBox=function(){return(0,n.graphExtent)(this.graph)},a.prototype.getCustomBBox=function(){return this.customBBox},a.prototype.setCustomBBox=function(a){return this.customBBox=a,this._scheduleRefresh(),this},a.prototype.kill=function(){var a=this.graph;this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),a.removeListener("nodeAdded",this.activeListeners.dropNodeGraphUpdate),a.removeListener("nodeDropped",this.activeListeners.graphUpdate),a.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),a.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),a.removeListener("edgeAdded",this.activeListeners.graphUpdate),a.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),a.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),a.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),a.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),a.removeListener("cleared",this.activeListeners.clearGraphUpdate),this.quadtree=new m.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,n.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,n.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var b=this.container;b.firstChild;)b.removeChild(b.firstChild)},a.prototype.scaleSize=function(a){return a/this.cameraSizeRatio},a.prototype.getCanvases=function(){return i({},this.elements)},a}(e.TypedEventEmitter);c.default=f},function(f,b,a){"use strict";var c,g=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),d=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var h=a(3),i=d(a(8)),j=a(4),e=function(b){function a(){var a=b.call(this)||this;return a.x=.5,a.y=.5,a.angle=0,a.ratio=1,a.minRatio=null,a.maxRatio=null,a.nextFrame=null,a.previousState=null,a.enabled=!0,a.previousState=a.getState(),a}return g(a,b),a.from=function(b){return new a().setState(b)},a.prototype.enable=function(){return this.enabled=!0,this},a.prototype.disable=function(){return this.enabled=!1,this},a.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},a.prototype.hasState=function(a){return this.x===a.x&&this.y===a.y&&this.ratio===a.ratio&&this.angle===a.angle},a.prototype.getPreviousState=function(){var a=this.previousState;return a?{x:a.x,y:a.y,angle:a.angle,ratio:a.ratio}:null},a.prototype.getBoundedRatio=function(b){var a=b;return"number"==typeof this.minRatio&&(a=Math.max(a,this.minRatio)),"number"==typeof this.maxRatio&&(a=Math.min(a,this.maxRatio)),a},a.prototype.validateState=function(a){var b={};return"number"==typeof a.x&&(b.x=a.x),"number"==typeof a.y&&(b.y=a.y),"number"==typeof a.angle&&(b.angle=a.angle),"number"==typeof a.ratio&&(b.ratio=this.getBoundedRatio(a.ratio)),b},a.prototype.isAnimated=function(){return!!this.nextFrame},a.prototype.setState=function(b){if(!this.enabled)return this;this.previousState=this.getState();var a=this.validateState(b);return"number"==typeof a.x&&(this.x=a.x),"number"==typeof a.y&&(this.y=a.y),"number"==typeof a.angle&&(this.angle=a.angle),"number"==typeof a.ratio&&(this.ratio=a.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},a.prototype.animate=function(c,d,e){var f=this;if(this.enabled){var a=Object.assign({},h.ANIMATE_DEFAULTS,d),g=this.validateState(c),k="function"==typeof a.easing?a.easing:i.default[a.easing],l=Date.now(),m=this.getState(),b=function(){var e=(Date.now()-l)/a.duration;if(e>=1){f.nextFrame=null,f.setState(g),f.animationCallback&&(f.animationCallback.call(null),f.animationCallback=void 0);return}var d=k(e),c={};"number"==typeof g.x&&(c.x=m.x+(g.x-m.x)*d),"number"==typeof g.y&&(c.y=m.y+(g.y-m.y)*d),"number"==typeof g.angle&&(c.angle=m.angle+(g.angle-m.angle)*d),"number"==typeof g.ratio&&(c.ratio=m.ratio+(g.ratio-m.ratio)*d),f.setState(c),f.nextFrame=(0,j.requestFrame)(b)};this.nextFrame?((0,j.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,j.requestFrame)(b)):b(),this.animationCallback=e}},a.prototype.animatedZoom=function(a){if(a){if("number"==typeof a)return this.animate({ratio:this.ratio/a});this.animate({ratio:this.ratio/(a.factor||1.5)},a)}else this.animate({ratio:this.ratio/1.5})},a.prototype.animatedUnzoom=function(a){if(a){if("number"==typeof a)return this.animate({ratio:this.ratio*a});this.animate({ratio:this.ratio*(a.factor||1.5)},a)}else this.animate({ratio:1.5*this.ratio})},a.prototype.animatedReset=function(a){this.animate({x:.5,y:.5,ratio:1,angle:0},a)},a.prototype.copy=function(){return a.from(this.getState())},a}(a(9).TypedEventEmitter);b.default=e},function(d,a,b){"use strict";var c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(a,"__esModule",{value:!0}),a.animateNodes=a.ANIMATE_DEFAULTS=void 0;var e=b(4),f=c(b(8));a.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},a.animateNodes=function(i,d,j,m){var c=Object.assign({},a.ANIMATE_DEFAULTS,j),n="function"==typeof c.easing?c.easing:f.default[c.easing],o=Date.now(),g={};for(var b in d){var k=d[b];for(var h in g[b]={},k)g[b][h]=i.getNodeAttribute(b,h)}var p=null,l=function(){p=null;var f=(Date.now()-o)/c.duration;if(f>=1){for(var a in d){var h=d[a];for(var b in h)i.setNodeAttribute(a,b,h[b])}"function"==typeof m&&m();return}for(var a in f=n(f),d){var h=d[a],j=g[a];for(var b in h)i.setNodeAttribute(a,b,h[b]*f+j[b]*(1-f))}p=(0,e.requestFrame)(l)};return l(),function(){p&&(0,e.cancelFrame)(p)}}},function(m,a,c){"use strict";var n=this&&this.__read||function(c,f){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var b,d,e=a.call(c),g=[];try{for(;(void 0===f||f-- >0)&&!(b=e.next()).done;)g.push(b.value)}catch(h){d={error:h}}finally{try{b&&!b.done&&(a=e.return)&&a.call(e)}finally{if(d)throw d.error}}return g},g=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(a,"__esModule",{value:!0}),a.validateGraph=a.canUse32BitsIndices=a.extractPixel=a.getMatrixImpact=a.matrixFromCamera=a.getCorrectionRatio=a.floatColor=a.floatArrayColor=a.parseColor=a.zIndexOrdering=a.createNormalizationFunction=a.graphExtent=a.getPixelRatio=a.createElement=a.cancelFrame=a.requestFrame=a.assignDeep=a.assign=a.isPlainObject=void 0;var o=g(c(5)),p=c(6),d=c(7);function h(a){return"object"==typeof a&&null!==a&&a.constructor===Object}function i(a){for(var e=[],d=1;d<arguments.length;d++)e[d-1]=arguments[d];a=a||{};for(var f=0,g=e.length;f<g;f++){var c=e[f];if(c)for(var b in c)h(c[b])?a[b]=i(a[b],c[b]):a[b]=c[b]}return a}a.isPlainObject=h,a.assign=function(a){for(var c=[],b=1;b<arguments.length;b++)c[b-1]=arguments[b];a=a||{};for(var d=0,f=c.length;d<f;d++){var e=c[d];e&&Object.assign(a,e)}return a},a.assignDeep=i,a.requestFrame="undefined"!=typeof requestAnimationFrame?function(a){return requestAnimationFrame(a)}:function(a){return setTimeout(a,0)},a.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(a){return cancelAnimationFrame(a)}:function(a){return clearTimeout(a)},a.createElement=function(e,b,c){var d=document.createElement(e);if(b)for(var a in b)d.style[a]=b[a];if(c)for(var a in c)d.setAttribute(a,c[a]);return d},a.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},a.graphExtent=function(a){if(!a.order)return{x:[0,1],y:[0,1]};var b=1/0,c=-1/0,d=1/0,e=-1/0;return a.forEachNode(function(_,g){var a=g.x,f=g.y;a<b&&(b=a),a>c&&(c=a),f<d&&(d=f),f>e&&(e=f)}),{x:[b,c],y:[d,e]}},a.createNormalizationFunction=function(c){var d=n(c.x,2),e=d[0],f=d[1],g=n(c.y,2),h=g[0],i=g[1],a=Math.max(f-e,i-h),j=(f+e)/2,k=(i+h)/2;(0===a||Math.abs(a)===1/0||isNaN(a))&&(a=1),isNaN(j)&&(j=0),isNaN(k)&&(k=0);var b=function(b){return{x:.5+(b.x-j)/a,y:.5+(b.y-k)/a}};return b.applyTo=function(b){b.x=.5+(b.x-j)/a,b.y=.5+(b.y-k)/a},b.inverse=function(b){return{x:j+a*(b.x-.5),y:k+a*(b.y-.5)}},b.ratio=a,b},a.zIndexOrdering=function(b,c,a){return a.sort(function(d,e){var a=c(d)||0,b=c(e)||0;return a<b?-1:a>b?1:0})};var f=new Int8Array(4),q=new Int32Array(f.buffer,0,1),r=new Float32Array(f.buffer,0,1),s=/^\s*rgba?\s*\(/,t=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function j(a){var c=0,d=0,e=0,f=1;if("#"===a[0])4===a.length?(c=parseInt(a.charAt(1)+a.charAt(1),16),d=parseInt(a.charAt(2)+a.charAt(2),16),e=parseInt(a.charAt(3)+a.charAt(3),16)):(c=parseInt(a.charAt(1)+a.charAt(2),16),d=parseInt(a.charAt(3)+a.charAt(4),16),e=parseInt(a.charAt(5)+a.charAt(6),16));else if(s.test(a)){var b=a.match(t);b&&(c=+b[1],d=+b[2],e=+b[3],b[4]&&(f=+b[4]))}return{r:c,g:d,b:e,a:f}}a.parseColor=j;var e={};for(var b in d.HTML_COLORS)e[b]=k(d.HTML_COLORS[b]),e[d.HTML_COLORS[b]]=e[b];function k(a){if(void 0!==e[a])return e[a];var b=j(a),f=b.r,g=b.g,h=b.b,c=b.a;c=255*c|0,q[0]=(c<<24|h<<16|g<<8|f)&4278190079;var d=r[0];return e[a]=d,d}function l(c,d){var a=c.height/c.width,b=d.height/d.width;return a<1&&b>1||a>1&&b<1?1:Math.min(Math.max(b,1/b),Math.max(1/a,a))}a.floatArrayColor=function(a){a=d.HTML_COLORS[a]||a;var b=j(a),c=b.r,e=b.g,f=b.b,g=b.a;return new Float32Array([c/255,e/255,f/255,g])},a.floatColor=k,a.getCorrectionRatio=l,a.matrixFromCamera=function(b,e,m,n,o){var h=b.angle,i=b.ratio,j=b.x,k=b.y,f=e.width,g=e.height,a=(0,p.identity)(),c=Math.min(f,g)-2*n,d=l(e,m);return o?((0,p.multiply)(a,(0,p.translate)((0,p.identity)(),j,k)),(0,p.multiply)(a,(0,p.scale)((0,p.identity)(),i)),(0,p.multiply)(a,(0,p.rotate)((0,p.identity)(),h)),(0,p.multiply)(a,(0,p.scale)((0,p.identity)(),f/c/2/d,g/c/2/d))):((0,p.multiply)(a,(0,p.scale)((0,p.identity)(),2*(c/f)*d,2*(c/g)*d)),(0,p.multiply)(a,(0,p.rotate)((0,p.identity)(),-h)),(0,p.multiply)(a,(0,p.scale)((0,p.identity)(),1/i)),(0,p.multiply)(a,(0,p.translate)((0,p.identity)(),-j,-k))),a},a.getMatrixImpact=function(c,a,d){var b=(0,p.multiplyVec2)(c,{x:Math.cos(a.angle),y:Math.sin(a.angle)},0),e=b.x,f=b.y;return 1/Math.sqrt(Math.pow(e,2)+Math.pow(f,2))/d.width},a.extractPixel=function(a,c,d,e){var b=e||new Uint8Array(4);return a.readPixels(c,d,1,1,a.RGBA,a.UNSIGNED_BYTE,b),b},a.canUse32BitsIndices=function(a){return"undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||!!a.getExtension("OES_element_index_uint")},a.validateGraph=function(a){if(!(0,o.default)(a))throw new Error("Sigma: invalid graph instance.");a.forEachNode(function(b,a){if(!Number.isFinite(a.x)||!Number.isFinite(a.y))throw new Error("Sigma: Coordinates of node ".concat(b," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}},a=>{a.exports=function(a){return null!==a&&"object"==typeof a&&"function"==typeof a.addUndirectedEdgeWithKey&&"function"==typeof a.dropNode&&"boolean"==typeof a.multi}},(h,a)=>{"use strict";function b(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function c(a,b,c){return a[0]=b,a[4]="number"==typeof c?c:b,a}function d(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[3]=-c,a[4]=d,a}function e(a,b,c){return a[6]=b,a[7]=c,a}function f(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7],t=b[8];return a[0]=l*c+m*f+n*i,a[1]=l*d+m*g+n*j,a[2]=l*e+m*h+n*k,a[3]=o*c+p*f+q*i,a[4]=o*d+p*g+q*j,a[5]=o*e+p*h+q*k,a[6]=r*c+s*f+t*i,a[7]=r*d+s*g+t*j,a[8]=r*e+s*h+t*k,a}function g(a,c,b){void 0===b&&(b=1);var f=a[0],g=a[1],h=a[3],i=a[4],j=a[6],k=a[7],d=c.x,e=c.y;return{x:d*f+e*h+j*b,y:d*g+e*i+k*b}}Object.defineProperty(a,"__esModule",{value:!0}),a.multiplyVec2=a.multiply=a.translate=a.rotate=a.scale=a.identity=void 0,a.identity=b,a.scale=c,a.rotate=d,a.translate=e,a.multiply=f,a.multiplyVec2=g},(b,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.HTML_COLORS=void 0,a.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},(j,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.cubicInOut=a.cubicOut=a.cubicIn=a.quadraticInOut=a.quadraticOut=a.quadraticIn=a.linear=void 0;var b=function(a){return a};a.linear=b;var c=function(a){return a*a};a.quadraticIn=c;var d=function(a){return a*(2-a)};a.quadraticOut=d;var e=function(a){return(a*=2)<1?.5*a*a:-0.5*(--a*(a-2)-1)};a.quadraticInOut=e;var f=function(a){return a*a*a};a.cubicIn=f;var g=function(a){return--a*a*a+1};a.cubicOut=g;var h=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)};a.cubicInOut=h;var i={linear:a.linear,quadraticIn:a.quadraticIn,quadraticOut:a.quadraticOut,quadraticInOut:a.quadraticInOut,cubicIn:a.cubicIn,cubicOut:a.cubicOut,cubicInOut:a.cubicInOut};a.default=i},function(e,a,b){"use strict";var c,f=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)});Object.defineProperty(a,"__esModule",{value:!0}),a.TypedEventEmitter=void 0;var d=function(b){function a(){var a=b.call(this)||this;return a.rawEmitter=a,a}return f(a,b),a}(b(10).EventEmitter);a.TypedEventEmitter=d},c=>{"use strict";var d,b="object"==typeof Reflect?Reflect:null,f=b&&"function"==typeof b.apply?b.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};function g(a){console&&console.warn&&console.warn(a)}d=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var h=Number.isNaN||function(a){return a!=a};function a(){a.init.call(this)}c.exports=a,c.exports.once=s,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function j(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function k(b){return void 0===b._maxListeners?a.defaultMaxListeners:b._maxListeners}function l(a,c,b,e){if(j(b),void 0===(i=a._events)?(i=a._events=Object.create(null),a._eventsCount=0):(void 0!==i.newListener&&(a.emit("newListener",c,b.listener?b.listener:b),i=a._events),f=i[c]),void 0===f)f=i[c]=b,++a._eventsCount;else if("function"==typeof f?f=i[c]=e?[b,f]:[f,b]:e?f.unshift(b):f.push(b),(h=k(a))>0&&f.length>h&&!f.warned){f.warned=!0;var h,i,f,d=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=a,d.type=c,d.count=f.length,g(d)}return a}function m(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n(d,e,b){var c={fired:!1,wrapFn:void 0,target:d,type:e,listener:b},a=m.bind(c);return a.listener=b,c.wrapFn=a,a}function o(d,e,b){var c=d._events;if(void 0===c)return[];var a=c[e];return void 0===a?[]:"function"==typeof a?b?[a.listener||a]:[a]:b?r(a):p(a,a.length)}function e(c){var b=this._events;if(void 0!==b){var a=b[c];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function p(d,b){for(var c=new Array(b),a=0;a<b;++a)c[a]=d[a];return c}function q(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}function r(b){for(var c=new Array(b.length),a=0;a<c.length;++a)c[a]=b[a].listener||b[a];return c}function s(a,b){return new Promise(function(e,f){function c(c){a.removeListener(b,d),f(c)}function d(){"function"==typeof a.removeListener&&a.removeListener("error",c),e([].slice.call(arguments))}u(a,b,d,{once:!0}),"error"!==b&&t(a,c,{once:!0})})}function t(a,b,c){"function"==typeof a.on&&u(a,"error",b,c)}function u(a,b,c,d){if("function"==typeof a.on)d.once?a.once(b,c):a.on(b,c);else if("function"==typeof a.addEventListener)a.addEventListener(b,function e(f){d.once&&a.removeEventListener(b,e),c(f)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(a){if("number"!=typeof a||a<0||h(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");i=a}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||h(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},a.prototype.getMaxListeners=function(){return k(this)},a.prototype.emit=function(h){for(var b=[],a=1;a<arguments.length;a++)b.push(arguments[a]);var d="error"===h,e=this._events;if(void 0!==e)d=d&& void 0===e.error;else if(!d)return!1;if(d){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,i=new Error("Unhandled error."+(g?" ("+g.message+")":""));throw i.context=g,i}var c=e[h];if(void 0===c)return!1;if("function"==typeof c)f(c,this,b);else for(var j=c.length,k=p(c,j),a=0;a<j;++a)f(k[a],this,b);return!0},a.prototype.addListener=function(a,b){return l(this,a,b,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(a,b){return l(this,a,b,!0)},a.prototype.once=function(a,b){return j(b),this.on(a,n(this,a,b)),this},a.prototype.prependOnceListener=function(a,b){return j(b),this.prependListener(a,n(this,a,b)),this},a.prototype.removeListener=function(e,b){var a,d,f,c,g;if(j(b),void 0===(d=this._events)|| void 0===(a=d[e]))return this;if(a===b||a.listener===b)0== --this._eventsCount?this._events=Object.create(null):(delete d[e],d.removeListener&&this.emit("removeListener",e,a.listener||b));else if("function"!=typeof a){for(f=-1,c=a.length-1;c>=0;c--)if(a[c]===b||a[c].listener===b){g=a[c].listener,f=c;break}if(f<0)return this;0===f?a.shift():q(a,f),1===a.length&&(d[e]=a[0]),void 0!==d.removeListener&&this.emit("removeListener",e,g||b)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(c){var d,b,a;if(void 0===(b=this._events))return this;if(void 0===b.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==b[c]&&(0== --this._eventsCount?this._events=Object.create(null):delete b[c]),this;if(0===arguments.length){var e,f=Object.keys(b);for(a=0;a<f.length;++a)"removeListener"!==(e=f[a])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(d=b[c]))this.removeListener(c,d);else if(void 0!==d)for(a=d.length-1;a>=0;a--)this.removeListener(c,d[a]);return this},a.prototype.listeners=function(a){return o(this,a,!0)},a.prototype.rawListeners=function(a){return o(this,a,!1)},a.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):e.call(a,b)},a.prototype.listenerCount=e,a.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]}},function(g,a,b){"use strict";var c,h=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),i=this&&this.__createBinding||(Object.create?function(b,d,c,a){void 0===a&&(a=c),Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[c]}})}:function(c,d,b,a){void 0===a&&(a=b),c[a]=d[b]}),j=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),d=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&i(b,a,c);return j(b,a),b};Object.defineProperty(a,"__esModule",{value:!0});var e=d(b(12)),f=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.enabled=!0,a.draggedEvents=0,a.downStartTime=null,a.lastMouseX=null,a.lastMouseY=null,a.isMouseDown=!1,a.isMoving=!1,a.movingTimeout=null,a.startCameraState=null,a.clicks=0,a.doubleClickTimeout=null,a.currentWheelDirection=0,a.handleClick=a.handleClick.bind(a),a.handleRightClick=a.handleRightClick.bind(a),a.handleDown=a.handleDown.bind(a),a.handleUp=a.handleUp.bind(a),a.handleMove=a.handleMove.bind(a),a.handleWheel=a.handleWheel.bind(a),a.handleOut=a.handleOut.bind(a),c.addEventListener("click",a.handleClick,!1),c.addEventListener("contextmenu",a.handleRightClick,!1),c.addEventListener("mousedown",a.handleDown,!1),c.addEventListener("wheel",a.handleWheel,!1),c.addEventListener("mouseout",a.handleOut,!1),document.addEventListener("mousemove",a.handleMove,!1),document.addEventListener("mouseup",a.handleUp,!1),a}return h(a,b),a.prototype.kill=function(){var a=this.container;a.removeEventListener("click",this.handleClick),a.removeEventListener("contextmenu",this.handleRightClick),a.removeEventListener("mousedown",this.handleDown),a.removeEventListener("wheel",this.handleWheel),a.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},a.prototype.handleClick=function(a){var b=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(a);setTimeout(function(){b.clicks=0,b.doubleClickTimeout=null},300),this.draggedEvents<3&&this.emit("click",(0,e.getMouseCoords)(a,this.container))}},a.prototype.handleRightClick=function(a){this.enabled&&this.emit("rightClick",(0,e.getMouseCoords)(a,this.container))},a.prototype.handleDoubleClick=function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var c=(0,e.getMouseCoords)(a,this.container);if(this.emit("doubleClick",c),!c.sigmaDefaultPrevented){var b=this.renderer.getCamera(),d=b.getBoundedRatio(b.getState().ratio/2.2);b.animate(this.renderer.getViewportZoomedState((0,e.getPosition)(a,this.container),d),{easing:"quadraticInOut",duration:200})}}},a.prototype.handleDown=function(a){if(this.enabled){this.startCameraState=this.renderer.getCamera().getState();var b=(0,e.getPosition)(a,this.container),c=b.x,d=b.y;this.lastMouseX=c,this.lastMouseY=d,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0,this.emit("mousedown",(0,e.getMouseCoords)(a,this.container))}},a.prototype.handleUp=function(c){var i=this;if(this.enabled&&this.isMouseDown){var b=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var d=(0,e.getPosition)(c,this.container),g=d.x,h=d.y,a=b.getState(),f=b.getPreviousState()||{x:0,y:0};this.isMoving?b.animate({x:a.x+3*(a.x-f.x),y:a.y+3*(a.y-f.y)},{duration:200,easing:"quadraticOut"}):(this.lastMouseX!==g||this.lastMouseY!==h)&&b.setState({x:a.x,y:a.y}),this.isMoving=!1,setTimeout(function(){i.draggedEvents=0,i.renderer.refresh()},0),this.emit("mouseup",(0,e.getMouseCoords)(c,this.container))}},a.prototype.handleMove=function(a){var o=this;if(this.enabled){var b=(0,e.getMouseCoords)(a,this.container);if(this.emit("mousemovebody",b),a.target===this.container&&this.emit("mousemove",b),!b.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){o.movingTimeout=null,o.isMoving=!1},100);var c=this.renderer.getCamera(),d=(0,e.getPosition)(a,this.container),f=d.x,g=d.y,h=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),i=this.renderer.viewportToFramedGraph({x:f,y:g}),k=h.x-i.x,l=h.y-i.y,j=c.getState(),m=j.x+k,n=j.y+l;c.setState({x:m,y:n}),this.lastMouseX=f,this.lastMouseY=g,a.preventDefault(),a.stopPropagation()}}},a.prototype.handleWheel=function(a){var j=this;if(this.enabled){a.preventDefault(),a.stopPropagation();var b=(0,e.getWheelDelta)(a);if(b){var d=(0,e.getWheelCoords)(a,this.container);if(this.emit("wheel",d),!d.sigmaDefaultPrevented){var h=b>0?.5882352941176471:1.7,c=this.renderer.getCamera(),i=c.getBoundedRatio(c.getState().ratio*h),f=b>0?1:-1,g=Date.now();if(this.currentWheelDirection===f&&this.lastWheelTriggerTime&&g-this.lastWheelTriggerTime<50)return;c.animate(this.renderer.getViewportZoomedState((0,e.getPosition)(a,this.container),i),{easing:"quadraticOut",duration:250},function(){j.currentWheelDirection=0}),this.currentWheelDirection=f,this.lastWheelTriggerTime=g}}}},a.prototype.handleOut=function(){},a}(e.default);a.default=f},function(j,a,b){"use strict";var c,k=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),l=this&&this.__assign||function(){return(l=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getWheelDelta=a.getTouchCoords=a.getTouchesArray=a.getWheelCoords=a.getMouseCoords=a.getPosition=void 0;var d=b(9);function e(a,c){var b=c.getBoundingClientRect();return{x:a.clientX-b.left,y:a.clientY-b.top}}function f(a,b){var c=l(l({},e(a,b)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){c.sigmaDefaultPrevented=!0},original:a});return c}function g(b){for(var c=[],a=0,d=Math.min(b.length,2);a<d;a++)c.push(b[a]);return c}function h(a){if(void 0!==a.deltaY)return -3*a.deltaY/360;if(void 0!==a.detail)return-(a.detail/9);throw new Error("Captor: could not extract delta from event.")}a.getPosition=e,a.getMouseCoords=f,a.getWheelCoords=function(a,b){return l(l({},f(a,b)),{delta:h(a)})},a.getTouchesArray=g,a.getTouchCoords=function(a,b){return{touches:g(a.touches).map(function(a){return e(a,b)}),original:a}},a.getWheelDelta=h;var i=function(b){function a(c,d){var a=b.call(this)||this;return a.container=c,a.renderer=d,a}return k(a,b),a}(d.TypedEventEmitter);a.default=i},function(i,a,b){"use strict";var j=this&&this.__read||function(c,f){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var b,d,e=a.call(c),g=[];try{for(;(void 0===f||f-- >0)&&!(b=e.next()).done;)g.push(b.value)}catch(h){d={error:h}}finally{try{b&&!b.done&&(a=e.return)&&a.call(e)}finally{if(d)throw d.error}}return g},k=this&&this.__spreadArray||function(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))},c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(a,"__esModule",{value:!0}),a.rectangleCollidesWithQuad=a.squareCollidesWithQuad=a.getCircumscribedAlignedRectangle=a.isRectangleAligned=void 0;var l=c(b(14)),m=4,n="outside",o=0,p=1,q=2,r=3,s=!1;function d(a){return a.x1===a.x2||a.y1===a.y2}function e(a){var h=Math.sqrt(Math.pow(a.x2-a.x1,2)+Math.pow(a.y2-a.y1,2)),b={x:(a.y1-a.y2)*a.height/h,y:(a.x2-a.x1)*a.height/h},c={x:a.x1,y:a.y1},d={x:a.x2,y:a.y2},e={x:a.x1+b.x,y:a.y1+b.y},f={x:a.x2+b.x,y:a.y2+b.y},i=Math.min(c.x,d.x,e.x,f.x),j=Math.max(c.x,d.x,e.x,f.x),g=Math.min(c.y,d.y,e.y,f.y),k=Math.max(c.y,d.y,e.y,f.y);return{x1:i,y1:g,x2:j,y2:g,height:k-g}}function f(a,b,c,d,e,f,g){return a<d+f&&a+c>d&&b<e+g&&b+c>e}function g(a,b,e,f,c,d,g,h){return a<c+g&&a+e>c&&b<d+h&&b+f>d}function t(b,c,d,e,f,g){var a=b<d+f/2;return c<e+g/2?a?1:2:a?3:4}a.isRectangleAligned=d,a.getCircumscribedAlignedRectangle=e,a.squareCollidesWithQuad=f,a.rectangleCollidesWithQuad=g;var h=function(){function a(a){var b;void 0===a&&(a={}),this.containers=((b={})[n]=[],b),this.cache=null,this.lastRectangle=null,this.data=new Float32Array(1365*m),a.boundaries?this.resize(a.boundaries):this.resize({x:0,y:0,width:1,height:1})}return a.prototype.add=function(a,b,c,d){return function(C,a,c,d,w,x,e){for(var l=w-e,t=x-e,u=2*e,g=0,b=0;;){if(g>=5){c[b]=c[b]||[],c[b].push(d);return}var h=4*b+m,i=4*b+2*m,j=4*b+3*m,k=4*b+4*m,y=f(l,t,u,a[h+o],a[h+p],a[h+q],a[h+r]),z=f(l,t,u,a[i+o],a[i+p],a[i+q],a[i+r]),A=f(l,t,u,a[j+o],a[j+p],a[j+q],a[j+r]),B=f(l,t,u,a[k+o],a[k+p],a[k+q],a[k+r]),v=[y,z,A,B,].reduce(function(a,b){return b?a+1:a},0);if(0===v&&0===g){c[n].push(d),!s&&c[n].length>=5&&(s=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box."));return}if(0===v)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(g,", key: ").concat(d,", x: ").concat(w,", y: ").concat(x,", size: ").concat(e,")."));if(3===v)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(g,", key: ").concat(d,", x: ").concat(w,", y: ").concat(x,", size: ").concat(e,")."));if(v>1){c[b]=c[b]||[],c[b].push(d);return}g++,y&&(b=h),z&&(b=i),A&&(b=j),B&&(b=k)}}(5,this.data,this.containers,a,b,c,d),this},a.prototype.resize=function(a){this.clear(),this.data[o]=a.x,this.data[p]=a.y,this.data[q]=a.width,this.data[r]=a.height,function(t,a){for(var c=[0,0];c.length;){var f=c.pop(),b=c.pop(),g=4*b+m,h=4*b+2*m,i=4*b+3*m,j=4*b+4*m,k=a[b+o],l=a[b+p],n=a[b+q],s=a[b+r],d=n/2,e=s/2;a[g+o]=k,a[g+p]=l,a[g+q]=d,a[g+r]=e,a[h+o]=k+d,a[h+p]=l,a[h+q]=d,a[h+r]=e,a[i+o]=k,a[i+p]=l+e,a[i+q]=d,a[i+r]=e,a[j+o]=k+d,a[j+p]=l+e,a[j+q]=d,a[j+r]=e,f<4&&(c.push(j,f+1),c.push(i,f+1),c.push(h,f+1),c.push(g,f+1))}}(5,this.data)},a.prototype.clear=function(){var a;return this.containers=((a={})[n]=[],a),this},a.prototype.point=function(d,e){var b=this.containers[n],a=0,c=0;do{this.containers[a]&&b.push.apply(b,k([],j(this.containers[a]),!1));var f=t(d,e,this.data[a+o],this.data[a+p],this.data[a+q],this.data[a+r]);a=4*a+f*m,c++}while(c<=5)return b},a.prototype.rectangle=function(b,c,f,h,i){var s,a=this.lastRectangle;return a&&b===a.x1&&f===a.x2&&c===a.y1&&h===a.y2&&i===a.height||(this.lastRectangle={x1:b,y1:c,x2:f,y2:h,height:i},d(this.lastRectangle)||(this.lastRectangle=e(this.lastRectangle)),this.cache=function(A,a,v,j,k,n,s){for(var t,b=[0,0],u=[];b.length;){var c=b.pop(),d=b.pop();if((t=v[d])&&(0,l.default)(u,t),!(c>=5)){var e=4*d+m,f=4*d+2*m,h=4*d+3*m,i=4*d+4*m,w=g(j,k,n,s,a[e+o],a[e+p],a[e+q],a[e+r]),x=g(j,k,n,s,a[f+o],a[f+p],a[f+q],a[f+r]),y=g(j,k,n,s,a[h+o],a[h+p],a[h+q],a[h+r]),z=g(j,k,n,s,a[i+o],a[i+p],a[i+q],a[i+r]);w&&b.push(e,c+1),x&&b.push(f,c+1),y&&b.push(h,c+1),z&&b.push(i,c+1)}}return u}(5,this.data,this.containers,b,c,Math.abs(b-f)||Math.abs(c-h),i),(s=this.cache).push.apply(s,k([],j(this.containers[n]),!1))),this.cache},a}();a.default=h},a=>{a.exports=function(b,d){var c=d.length;if(0!==c){var e=b.length;b.length+=c;for(var a=0;a<c;a++)b[e+a]=d[a]}}},(d,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.edgeLabelsToDisplayFromNodes=a.LabelGrid=void 0;var e=function(){function a(a,b){this.key=a,this.size=b}return a.compare=function(a,b){return a.size>b.size?-1:a.size<b.size||a.key>b.key?1:-1},a}(),b=function(){function a(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return a.prototype.resizeAndClear=function(a,b){this.width=a.width,this.height=a.height,this.cellSize=b,this.columns=Math.ceil(a.width/b),this.rows=Math.ceil(a.height/b),this.cells={}},a.prototype.getIndex=function(a){var b=Math.floor(a.x/this.cellSize),c=Math.floor(a.y/this.cellSize);return c*this.columns+b},a.prototype.add=function(c,d,f){var g=new e(c,d),b=this.getIndex(f),a=this.cells[b];a||(a=[],this.cells[b]=a),a.push(g)},a.prototype.organize=function(){for(var a in this.cells)this.cells[a].sort(e.compare)},a.prototype.getLabelsToDisplay=function(b,f){var c=this.cellSize*this.cellSize,g=Math.ceil(c/b/b*f/c),d=[];for(var h in this.cells)for(var e=this.cells[h],a=0;a<Math.min(g,e.length);a++)d.push(e[a].key);return d},a}();function c(a){var b=a.graph,d=a.hoveredNode,e=a.highlightedNodes,f=a.displayedNodeLabels,c=[];return b.forEachEdge(function(g,_,a,b){(a===d||b===d||e.has(a)||e.has(b)||f.has(a)&&f.has(b))&&c.push(g)}),c}a.LabelGrid=b,a.edgeLabelsToDisplayFromNodes=c},function(j,c,a){"use strict";var b=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_SETTINGS=c.validateSettings=void 0;var d=b(a(17)),e=b(a(18)),f=b(a(19)),g=b(a(20)),h=b(a(26)),i=b(a(30));c.validateSettings=function(a){if("number"!=typeof a.labelDensity||a.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var b=a.minCameraRatio,c=a.maxCameraRatio;if("number"==typeof b&&"number"==typeof c&&c<b)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},c.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:d.default,hoverRenderer:e.default,edgeLabelRenderer:f.default,allowInvalidContainer:!1,nodeProgramClasses:{circle:g.default},edgeProgramClasses:{arrow:i.default,line:h.default}}},(c,a)=>{"use strict";function b(c,b,a){if(b.label){var d=a.labelSize,e=a.labelFont,f=a.labelWeight,g=a.labelColor.attribute?b[a.labelColor.attribute]||a.labelColor.color||"#000":a.labelColor.color;c.fillStyle=g,c.font="".concat(f," ").concat(d,"px ").concat(e),c.fillText(b.label,b.x+b.size+3,b.y+d/3)}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=b},function(d,a,b){"use strict";var c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(a,"__esModule",{value:!0});var e=c(b(17));a.default=function(a,b,f){var g=f.labelSize,k=f.labelFont,l=f.labelWeight;if(a.font="".concat(l," ").concat(g,"px ").concat(k),a.fillStyle="#FFF",a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=8,a.shadowColor="#000","string"==typeof b.label){var h=Math.round(a.measureText(b.label).width+5),c=Math.round(g+4),d=Math.max(b.size,g/2)+2,i=Math.asin(c/2/d),j=Math.sqrt(Math.abs(Math.pow(d,2)-Math.pow(c/2,2)));a.beginPath(),a.moveTo(b.x+j,b.y+c/2),a.lineTo(b.x+d+h,b.y+c/2),a.lineTo(b.x+d+h,b.y-c/2),a.lineTo(b.x+j,b.y-c/2),a.arc(b.x,b.y,d,i,-i),a.closePath(),a.fill()}else a.beginPath(),a.arc(b.x,b.y,b.size+2,0,2*Math.PI),a.closePath(),a.fill();a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,(0,e.default)(a,b,f)}},(c,a)=>{"use strict";function b(c,l,m,n,f){var q,r=f.edgeLabelSize,v=f.edgeLabelFont,w=f.edgeLabelWeight,x=f.edgeLabelColor.attribute?l[f.edgeLabelColor.attribute]||f.edgeLabelColor.color||"#000":f.edgeLabelColor.color,d=l.label;if(d){c.fillStyle=x,c.font="".concat(w," ").concat(r,"px ").concat(v);var o=m.size,p=n.size,g=m.x,h=m.y,i=n.x,j=n.y,s=(g+i)/2,t=(h+j)/2,b=i-g,e=j-h,a=Math.sqrt(b*b+e*e);if(!(a<o+p)){g+=b*o/a,h+=e*o/a,i-=b*p/a,j-=e*p/a,s=(g+i)/2,t=(h+j)/2,b=i-g,e=j-h,a=Math.sqrt(b*b+e*e);var k=c.measureText(d).width;if(k>a){var u="\u2026";for(d+=u,k=c.measureText(d).width;k>a&&d.length>1;)d=d.slice(0,-2)+u,k=c.measureText(d).width;if(d.length<4)return}q=b>0?e>0?Math.acos(b/a):Math.asin(e/a):e>0?Math.acos(b/a)+Math.PI:Math.asin(b/a)+Math.PI/2,c.save(),c.translate(s,t),c.rotate(q),c.fillText(d,-k/2,l.size/2+r),c.restore()}}}Object.defineProperty(a,"__esModule",{value:!0}),a.default=b},function(g,b,a){"use strict";var d,h=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var i=a(4),j=c(a(21)),k=c(a(22)),e=a(23),l=1,m=4,f=function(b){function a(c){var a=b.call(this,c,j.default,k.default,l,m)||this;return a.bind(),a}return h(a,b),a.prototype.process=function(c,d,e){var a=this.array,b=e*l*m;if(d){a[b++]=0,a[b++]=0,a[b++]=0,a[b++]=0;return}var f=(0,i.floatColor)(c.color);a[b++]=c.x,a[b++]=c.y,a[b++]=c.size,a[b]=f},a.prototype.render=function(b){if(!this.hasNothingToRender()){var a=this.gl,c=this.program;a.useProgram(c),a.uniform1f(this.ratioLocation,1/Math.sqrt(b.ratio)),a.uniform1f(this.scaleLocation,b.scalingRatio),a.uniformMatrix3fv(this.matrixLocation,!1,b.matrix),a.drawArrays(a.POINTS,0,this.array.length/m)}},a}(e.AbstractNodeProgram);b.default=f},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n"},function(e,a,b){"use strict";var c,f=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)});Object.defineProperty(a,"__esModule",{value:!0}),a.createNodeCompoundProgram=a.AbstractNodeProgram=void 0;var d=function(b){function a(c,g,h,i,j){var a=b.call(this,c,g,h,i,j)||this;a.positionLocation=c.getAttribLocation(a.program,"a_position"),a.sizeLocation=c.getAttribLocation(a.program,"a_size"),a.colorLocation=c.getAttribLocation(a.program,"a_color");var d=c.getUniformLocation(a.program,"u_matrix");if(null===d)throw new Error("AbstractNodeProgram: error while getting matrixLocation");a.matrixLocation=d;var e=c.getUniformLocation(a.program,"u_ratio");if(null===e)throw new Error("AbstractNodeProgram: error while getting ratioLocation");a.ratioLocation=e;var f=c.getUniformLocation(a.program,"u_scale");if(null===f)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return a.scaleLocation=f,a}return f(a,b),a.prototype.bind=function(){var a=this.gl;a.enableVertexAttribArray(this.positionLocation),a.enableVertexAttribArray(this.sizeLocation),a.enableVertexAttribArray(this.colorLocation),a.vertexAttribPointer(this.positionLocation,2,a.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(this.sizeLocation,1,a.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(this.colorLocation,4,a.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},a}(b(24).AbstractProgram);a.AbstractNodeProgram=d,a.createNodeCompoundProgram=function(a){return function(){function b(b,c){this.programs=a.map(function(a){return new a(b,c)})}return b.prototype.bufferData=function(){this.programs.forEach(function(a){return a.bufferData()})},b.prototype.allocate=function(a){this.programs.forEach(function(b){return b.allocate(a)})},b.prototype.bind=function(){},b.prototype.render=function(a){this.programs.forEach(function(b){b.bind(),b.bufferData(),b.render(a)})},b.prototype.process=function(a,b,c){this.programs.forEach(function(d){return d.process(a,b,c)})},b}()}},(d,a,b)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.AbstractProgram=void 0;var e=b(25),c=function(){function a(a,c,d,f,g){this.array=new Float32Array,this.points=f,this.attributes=g,this.gl=a,this.vertexShaderSource=c,this.fragmentShaderSource=d;var b=a.createBuffer();if(null===b)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=b,a.bindBuffer(a.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,e.loadVertexShader)(a,this.vertexShaderSource),this.fragmentShader=(0,e.loadFragmentShader)(a,this.fragmentShaderSource),this.program=(0,e.loadProgram)(a,[this.vertexShader,this.fragmentShader])}return a.prototype.bufferData=function(){var a=this.gl;a.bufferData(a.ARRAY_BUFFER,this.array,a.DYNAMIC_DRAW)},a.prototype.allocate=function(a){this.array=new Float32Array(this.points*this.attributes*a)},a.prototype.hasNothingToRender=function(){return 0===this.array.length},a}();a.AbstractProgram=c},(e,a)=>{"use strict";function f(d,a,c){var e="VERTEX"===d?a.VERTEX_SHADER:a.FRAGMENT_SHADER,b=a.createShader(e);if(null===b)throw new Error("loadShader: error while creating the shader");if(a.shaderSource(b,c),a.compileShader(b),!a.getShaderParameter(b,a.COMPILE_STATUS)){var f=a.getShaderInfoLog(b);throw a.deleteShader(b),new Error("loadShader: error while compiling the shader:\n".concat(f,"\n").concat(c))}return b}function b(a,b){return f("VERTEX",a,b)}function c(a,b){return f("FRAGMENT",a,b)}function d(a,d){var c,e,b=a.createProgram();if(null===b)throw new Error("loadProgram: error while creating the program.");for(c=0,e=d.length;c<e;c++)a.attachShader(b,d[c]);if(a.linkProgram(b),!a.getProgramParameter(b,a.LINK_STATUS))throw a.deleteProgram(b),new Error("loadProgram: error while linking the program.");return b}Object.defineProperty(a,"__esModule",{value:!0}),a.loadProgram=a.loadFragmentShader=a.loadVertexShader=void 0,a.loadVertexShader=b,a.loadFragmentShader=c,a.loadProgram=d},function(i,b,a){"use strict";var d,j=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var k=a(4),l=c(a(27)),m=c(a(28)),e=a(29),f=4,g=5,n=f*g,h=function(b){function a(c){var a=b.call(this,c,l.default,m.default,f,g)||this,d=c.createBuffer();if(null===d)throw new Error("EdgeProgram: error while creating indicesBuffer");a.indicesBuffer=d,a.positionLocation=c.getAttribLocation(a.program,"a_position"),a.colorLocation=c.getAttribLocation(a.program,"a_color"),a.normalLocation=c.getAttribLocation(a.program,"a_normal");var e=c.getUniformLocation(a.program,"u_matrix");if(null===e)throw new Error("EdgeProgram: error while getting matrixLocation");a.matrixLocation=e;var h=c.getUniformLocation(a.program,"u_correctionRatio");if(null===h)throw new Error("EdgeProgram: error while getting correctionRatioLocation");a.correctionRatioLocation=h;var i=c.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===i)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return a.sqrtZoomRatioLocation=i,a.canUse32BitsIndices=(0,k.canUse32BitsIndices)(c),a.IndicesArray=a.canUse32BitsIndices?Uint32Array:Uint16Array,a.indicesArray=new a.IndicesArray,a.indicesType=a.canUse32BitsIndices?c.UNSIGNED_INT:c.UNSIGNED_SHORT,a.bind(),a}return j(a,b),a.prototype.bind=function(){var a=this.gl;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),a.enableVertexAttribArray(this.positionLocation),a.enableVertexAttribArray(this.normalLocation),a.enableVertexAttribArray(this.colorLocation),a.vertexAttribPointer(this.positionLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(this.normalLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(this.colorLocation,4,a.UNSIGNED_BYTE,!0,g*Float32Array.BYTES_PER_ELEMENT,16)},a.prototype.computeIndices=function(){for(var d=this.array.length/g,b=new this.IndicesArray(d+d/2),a=0,c=0;a<d;a+=4)b[c++]=a,b[c++]=a+1,b[c++]=a+2,b[c++]=a+2,b[c++]=a+1,b[c++]=a+3;this.indicesArray=b},a.prototype.bufferData=function(){b.prototype.bufferData.call(this);var a=this.gl;a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indicesArray,a.STATIC_DRAW)},a.prototype.process=function(r,s,t,w,u){if(w){for(var e=u*n,x=e+n;e<x;e++)this.array[e]=0;return}var v=t.size||1,j=r.x,l=r.y,m=s.x,o=s.y,h=(0,k.floatColor)(t.color),p=m-j,q=o-l,i=p*p+q*q,c=0,d=0;i&&(c=-q*(i=1/Math.sqrt(i))*v,d=p*i*v);var a=f*g*u,b=this.array;b[a++]=j,b[a++]=l,b[a++]=c,b[a++]=d,b[a++]=h,b[a++]=j,b[a++]=l,b[a++]=-c,b[a++]=-d,b[a++]=h,b[a++]=m,b[a++]=o,b[a++]=c,b[a++]=d,b[a++]=h,b[a++]=m,b[a++]=o,b[a++]=-c,b[a++]=-d,b[a]=h},a.prototype.render=function(b){if(!this.hasNothingToRender()){var a=this.gl,c=this.program;a.useProgram(c),a.uniformMatrix3fv(this.matrixLocation,!1,b.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(b.ratio)),a.uniform1f(this.correctionRatioLocation,b.correctionRatio),a.drawElements(a.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},a}(e.AbstractEdgeProgram);b.default=h},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the SQRT zoom ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n\n  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that\n  // items are not too big when zoomed in, and not too small when zoomed out).\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\n  // it\'s simpler like this:\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasint effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n'},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n"},function(e,a,b){"use strict";var c,f=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)});Object.defineProperty(a,"__esModule",{value:!0}),a.createEdgeCompoundProgram=a.AbstractEdgeProgram=void 0;var d=function(b){function a(a,c,d,e,f){return b.call(this,a,c,d,e,f)||this}return f(a,b),a}(b(24).AbstractProgram);a.AbstractEdgeProgram=d,a.createEdgeCompoundProgram=function(a){return function(){function b(b,c){this.programs=a.map(function(a){return new a(b,c)})}return b.prototype.bufferData=function(){this.programs.forEach(function(a){return a.bufferData()})},b.prototype.allocate=function(a){this.programs.forEach(function(b){return b.allocate(a)})},b.prototype.bind=function(){},b.prototype.computeIndices=function(){this.programs.forEach(function(a){return a.computeIndices()})},b.prototype.render=function(a){this.programs.forEach(function(b){b.bind(),b.bufferData(),b.render(a)})},b.prototype.process=function(a,b,c,d,e){this.programs.forEach(function(f){return f.process(a,b,c,d,e)})},b}()}},function(h,b,a){"use strict";var c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var d=a(29),e=c(a(31)),f=c(a(34)),g=(0,d.createEdgeCompoundProgram)([f.default,e.default]);b.default=g},function(i,b,a){"use strict";var d,j=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var k=a(4),l=c(a(32)),m=c(a(33)),e=a(29),f=3,g=9,n=f*g,h=function(b){function a(c){var a=b.call(this,c,l.default,m.default,f,g)||this;a.positionLocation=c.getAttribLocation(a.program,"a_position"),a.colorLocation=c.getAttribLocation(a.program,"a_color"),a.normalLocation=c.getAttribLocation(a.program,"a_normal"),a.radiusLocation=c.getAttribLocation(a.program,"a_radius"),a.barycentricLocation=c.getAttribLocation(a.program,"a_barycentric");var d=c.getUniformLocation(a.program,"u_matrix");if(null===d)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");a.matrixLocation=d;var e=c.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===e)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");a.sqrtZoomRatioLocation=e;var h=c.getUniformLocation(a.program,"u_correctionRatio");if(null===h)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return a.correctionRatioLocation=h,a.bind(),a}return j(a,b),a.prototype.bind=function(){var a=this.gl;a.enableVertexAttribArray(this.positionLocation),a.enableVertexAttribArray(this.normalLocation),a.enableVertexAttribArray(this.radiusLocation),a.enableVertexAttribArray(this.colorLocation),a.enableVertexAttribArray(this.barycentricLocation),a.vertexAttribPointer(this.positionLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(this.normalLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(this.radiusLocation,1,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(this.colorLocation,4,a.UNSIGNED_BYTE,!0,g*Float32Array.BYTES_PER_ELEMENT,20),a.vertexAttribPointer(this.barycentricLocation,3,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,24)},a.prototype.computeIndices=function(){},a.prototype.process=function(r,l,s,v,t){if(v){for(var c=t*n,w=c+n;c<w;c++)this.array[c]=0;return}var u=s.size||1,m=l.size||1,x=r.x,y=r.y,d=l.x,e=l.y,o=(0,k.floatColor)(s.color),p=d-x,q=e-y,h=p*p+q*q,i=0,j=0;h&&(i=-q*(h=1/Math.sqrt(h))*u,j=p*h*u);var a=f*g*t,b=this.array;b[a++]=d,b[a++]=e,b[a++]=-i,b[a++]=-j,b[a++]=m,b[a++]=o,b[a++]=1,b[a++]=0,b[a++]=0,b[a++]=d,b[a++]=e,b[a++]=-i,b[a++]=-j,b[a++]=m,b[a++]=o,b[a++]=0,b[a++]=1,b[a++]=0,b[a++]=d,b[a++]=e,b[a++]=-i,b[a++]=-j,b[a++]=m,b[a++]=o,b[a++]=0,b[a++]=0,b[a]=1},a.prototype.render=function(b){if(!this.hasNothingToRender()){var a=this.gl,c=this.program;a.useProgram(c),a.uniformMatrix3fv(this.matrixLocation,!1,b.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(b.ratio)),a.uniform1f(this.correctionRatioLocation,b.correctionRatio),a.drawArrays(a.TRIANGLES,0,this.array.length/g)}},a}(e.AbstractEdgeProgram);b.default=h},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n"},function(i,b,a){"use strict";var d,j=this&&this.__extends||(d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),c=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(b,"__esModule",{value:!0});var e=a(29),k=a(4),l=c(a(35)),m=c(a(28)),f=4,g=6,n=f*g,h=function(b){function a(c){var a=b.call(this,c,l.default,m.default,f,g)||this,d=c.createBuffer();if(null===d)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");a.indicesBuffer=d,a.positionLocation=c.getAttribLocation(a.program,"a_position"),a.colorLocation=c.getAttribLocation(a.program,"a_color"),a.normalLocation=c.getAttribLocation(a.program,"a_normal"),a.radiusLocation=c.getAttribLocation(a.program,"a_radius");var e=c.getUniformLocation(a.program,"u_matrix");if(null===e)throw new Error("EdgeClampedProgram: error while getting matrixLocation");a.matrixLocation=e;var h=c.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===h)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");a.sqrtZoomRatioLocation=h;var i=c.getUniformLocation(a.program,"u_correctionRatio");if(null===i)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return a.correctionRatioLocation=i,a.canUse32BitsIndices=(0,k.canUse32BitsIndices)(c),a.IndicesArray=a.canUse32BitsIndices?Uint32Array:Uint16Array,a.indicesArray=new a.IndicesArray,a.indicesType=a.canUse32BitsIndices?c.UNSIGNED_INT:c.UNSIGNED_SHORT,a.bind(),a}return j(a,b),a.prototype.bind=function(){var a=this.gl;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),a.enableVertexAttribArray(this.positionLocation),a.enableVertexAttribArray(this.normalLocation),a.enableVertexAttribArray(this.colorLocation),a.enableVertexAttribArray(this.radiusLocation),a.vertexAttribPointer(this.positionLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(this.normalLocation,2,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(this.colorLocation,4,a.UNSIGNED_BYTE,!0,g*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(this.radiusLocation,1,a.FLOAT,!1,g*Float32Array.BYTES_PER_ELEMENT,20)},a.prototype.process=function(s,j,t,x,u){if(x){for(var e=u*n,y=e+n;e<y;e++)this.array[e]=0;return}var v=t.size||1,l=s.x,m=s.y,o=j.x,p=j.y,w=j.size||1,h=(0,k.floatColor)(t.color),q=o-l,r=p-m,i=q*q+r*r,c=0,d=0;i&&(c=-r*(i=1/Math.sqrt(i))*v,d=q*i*v);var a=f*g*u,b=this.array;b[a++]=l,b[a++]=m,b[a++]=c,b[a++]=d,b[a++]=h,b[a++]=0,b[a++]=l,b[a++]=m,b[a++]=-c,b[a++]=-d,b[a++]=h,b[a++]=0,b[a++]=o,b[a++]=p,b[a++]=c,b[a++]=d,b[a++]=h,b[a++]=w,b[a++]=o,b[a++]=p,b[a++]=-c,b[a++]=-d,b[a++]=h,b[a]=-w},a.prototype.computeIndices=function(){for(var d=this.array.length/g,b=new this.IndicesArray(d+d/2),a=0,c=0;a<d;a+=4)b[c++]=a,b[c++]=a+1,b[c++]=a+2,b[c++]=a+2,b[c++]=a+1,b[c++]=a+3;this.indicesArray=b},a.prototype.bufferData=function(){b.prototype.bufferData.call(this);var a=this.gl;a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indicesArray,a.STATIC_DRAW)},a.prototype.render=function(b){if(!this.hasNothingToRender()){var a=this.gl,c=this.program;a.useProgram(c),a.uniformMatrix3fv(this.matrixLocation,!1,b.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(b.ratio)),a.uniform1f(this.correctionRatioLocation,b.correctionRatio),a.drawElements(a.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},a}(e.AbstractEdgeProgram);b.default=h},(c,a,b)=>{"use strict";b.r(a),b.d(a,{default:()=>d});let d="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},function(g,a,b){"use strict";var c,h=this&&this.__extends||(c=function(a,b){return(c=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function d(){this.constructor=b}c(b,a),b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),i=this&&this.__createBinding||(Object.create?function(b,d,c,a){void 0===a&&(a=c),Object.defineProperty(b,a,{enumerable:!0,get:function(){return d[c]}})}:function(c,d,b,a){void 0===a&&(a=b),c[a]=d[b]}),j=this&&this.__setModuleDefault||(Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b}),d=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&i(b,a,c);return j(b,a),b},k=this&&this.__read||function(c,f){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var b,d,e=a.call(c),g=[];try{for(;(void 0===f||f-- >0)&&!(b=e.next()).done;)g.push(b.value)}catch(h){d={error:h}}finally{try{b&&!b.done&&(a=e.return)&&a.call(e)}finally{if(d)throw d.error}}return g};Object.defineProperty(a,"__esModule",{value:!0});var e=d(b(12)),f=function(b){function a(c,d){var a=b.call(this,c,d)||this;return a.enabled=!0,a.isMoving=!1,a.touchMode=0,a.handleStart=a.handleStart.bind(a),a.handleLeave=a.handleLeave.bind(a),a.handleMove=a.handleMove.bind(a),c.addEventListener("touchstart",a.handleStart,!1),c.addEventListener("touchend",a.handleLeave,!1),c.addEventListener("touchcancel",a.handleLeave,!1),c.addEventListener("touchmove",a.handleMove,!1),a}return h(a,b),a.prototype.kill=function(){var a=this.container;a.removeEventListener("touchstart",this.handleStart),a.removeEventListener("touchend",this.handleLeave),a.removeEventListener("touchcancel",this.handleLeave),a.removeEventListener("touchmove",this.handleMove)},a.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},a.prototype.dispatchRelatedMouseEvent=function(d,a,f,g){var b=f||(0,e.getPosition)(a.touches[0],this.container),c=new MouseEvent(d,{clientX:b.x,clientY:b.y,altKey:a.altKey,ctrlKey:a.ctrlKey});c.isFakeSigmaMouseEvent=!0,(g||this.container).dispatchEvent(c)},a.prototype.handleStart=function(a){var l=this;if(this.enabled){a.preventDefault(),1===a.touches.length&&this.dispatchRelatedMouseEvent("mousedown",a);var b=(0,e.getTouchesArray)(a.touches);if(this.isMoving=!0,this.touchMode=b.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=b.map(function(a){return(0,e.getPosition)(a,l.container)}),this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var c=k(this.startTouchesPositions,2),d=c[0],f=d.x,g=d.y,h=c[1],i=h.x,j=h.y;this.startTouchesAngle=Math.atan2(j-g,i-f),this.startTouchesDistance=Math.sqrt(Math.pow(i-f,2)+Math.pow(j-g,2))}this.emit("touchdown",(0,e.getTouchCoords)(a,this.container))}},a.prototype.handleLeave=function(a){if(this.enabled){switch(a.preventDefault(),0===a.touches.length&&this.lastTouchesPositions&&this.lastTouchesPositions.length&&(this.dispatchRelatedMouseEvent("mouseup",a,this.lastTouchesPositions[0],document),this.dispatchRelatedMouseEvent("click",a,this.lastTouchesPositions[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===a.touches.length){this.handleStart(a),a.preventDefault();break}case 1:if(this.isMoving){var c=this.renderer.getCamera(),b=c.getState(),d=c.getPreviousState()||{x:0,y:0};c.animate({x:b.x+3*(b.x-d.x),y:b.y+3*(b.y-d.y)},{duration:200,easing:"quadraticOut"})}this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,e.getTouchCoords)(a,this.container))}},a.prototype.handleMove=function(d){var n,D=this;if(this.enabled){d.preventDefault(),1===d.touches.length&&this.dispatchRelatedMouseEvent("mousemove",d);var j=this.renderer.getCamera(),f=this.startCameraState,h=(0,e.getTouchesArray)(d.touches).map(function(a){return(0,e.getPosition)(a,D.container)});switch(this.lastTouchesPositions=h,this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){D.isMoving=!1},200),this.touchMode){case 1:var o=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),x=o.x,y=o.y,p=this.renderer.viewportToFramedGraph(h[0]),b=p.x,c=p.y;j.setState({x:f.x+x-b,y:f.y+y-c});break;case 2:var a={},q=h[0],l=q.x,m=q.y,r=h[1],s=r.x,t=r.y,z=Math.atan2(t-m,s-l)-this.startTouchesAngle,A=Math.hypot(t-m,s-l)/this.startTouchesDistance,u=j.getBoundedRatio(f.ratio/A);a.ratio=u,a.angle=f.angle+z;var i=this.getDimensions(),v=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:f}),g=Math.min(i.width,i.height),B=g/i.width,C=g/i.height,w=u/g,b=l-g/2/B,c=m-g/2/C;b=(n=k([b*Math.cos(-a.angle)-c*Math.sin(-a.angle),c*Math.cos(-a.angle)+b*Math.sin(-a.angle),],2))[0],c=n[1],a.x=v.x-b*w,a.y=v.y+c*w,j.setState(a)}this.emit("touchmove",(0,e.getTouchCoords)(d,this.container))}},a}(e.default);a.default=f},(d,a)=>{"use strict";function b(a,c,d){var b=new Uint8Array(4);return a.readPixels(c,a.drawingBufferHeight-d,1,1,a.RGBA,a.UNSIGNED_BYTE,b),b[3]>0}function c(b,c,d,e,f,g,a){return(!(b<d-a)||!(b<f-a))&&(!(c<e-a)||!(c<g-a))&&(!(b>d+a)||!(b>f+a))&&(!(c>e+a)||!(c>g+a))&&Math.abs((f-d)*(e-c)-(d-b)*(g-e))/Math.sqrt(Math.pow(f-d,2)+Math.pow(g-e,2))<a/2}Object.defineProperty(a,"__esModule",{value:!0}),a.doEdgeCollideWithPoint=a.isPixelColored=void 0,a.isPixelColored=b,a.doEdgeCollideWithPoint=c}],d={};function a(e){var f=d[e];if(void 0!==f)return f.exports;var b=d[e]={exports:{}};return c[e].call(b.exports,b,b.exports,a),b.exports}a.d=(d,c)=>{for(var b in c)a.o(c,b)&&!a.o(d,b)&&Object.defineProperty(d,b,{enumerable:!0,get:c[b]})},a.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),a.r=a=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},Sigma=a(0)})()